<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="C语言实现银行管理系统"><title>银行管理系统实例(C语言版）</title>
<link rel=canonical href=https://c-poet.github.io/post/coding/c/bank-manage-system-by-c/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="银行管理系统实例(C语言版）"><meta property='og:description' content="C语言实现银行管理系统"><meta property='og:url' content='https://c-poet.github.io/post/coding/c/bank-manage-system-by-c/'><meta property='og:site_name' content='CPoet'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2023-08-11T23:56:01+08:00'><meta property='article:modified_time' content='2023-08-11T23:56:01+08:00'><meta property='og:image' content='https://c-poet.github.io/post/coding/c/bank-manage-system-by-c/screenshot.png'><meta name=twitter:title content="银行管理系统实例(C语言版）"><meta name=twitter:description content="C语言实现银行管理系统"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://c-poet.github.io/post/coding/c/bank-manage-system-by-c/screenshot.png'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hub69c133b9baecf73314fbafde4b0bf83_88883_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🧑‍💻</span></figure><div class=site-meta><h1 class=site-name><a href=/>CPoet</a></h1><h2 class=site-description>地域限制了一切！</h2></div></header><ol class=menu-social><li><a href=https://blog.csdn.net/qq_42304721 target=_blank title=CSDN rel=me><!doctype html><svg t="1719657462265" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="5267" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M530.9293681 431.99298667c12.69089853-1.39850077 32.17241993-2.81598184 58.96997255-2.81598184 44.75202505.0 80.92755642 7.8957922 103.33549032 24.51560657 20.13547797 15.48790009 33.52519552 40.55565997 29.81627827 76.89597458-3.43197786 33.81076231-20.74198383 57.48864879-45.99437 72.12071127-23.0981255099999 13.81332266-52.17848695 19.72136298-95.94526346 19.72136298-25.78555916.0-50.402969-1.41748106-69.11147578-4.22397275l18.9293681-186.21370082zm36.98564379 149.2013121c4.29730562.85583762 9.97499448 1.70218509 21.16558896 1.7021851 44.76151521.0 76.3265665-22.32511089 79.51007536-53.69690853 4.60098993-45.34127616-23.40180983-61.20619343-70.57468202-60.93011679-6.10129397.0-14.59496468.0-19.09501409.83685734L567.90552174 581.20378891h.0086274zm192.82056016-142.09665206c181.99921821-34.39915066 197.70797962 27.4144114 192.08550608 82.12331343L942.21024461 622.43066023H884.4550093l9.67131017-92.30191443c2.08955515-20.32786888 15.10225553-60.09239669-47.74228028-58.59209265-21.7272324.52454563-32.53131957 3.50617346-32.53131957 3.50617347s-1.88594862 24.56133176-4.16875743 42.71768524L798.70560163 622.43066023h-56.64143855l11.23631967-103.16035419" fill="#231916" p-id="5268"/><path d="M265.80433314 616.11799508c-10.67553898 3.74515232-32.81688637 6.31266516-63.76507889 6.31266515C113.06923991 622.43066023 65.05951037 580.09861956 70.72857184 524.15600002c6.80960313-66.67251112 77.93643846-104.18183779 155.82628898-104.18183779 30.17517791.0 47.92690654 2.46657234 64.58381871 6.58960456l-5.35588702 44.91767104c-11.06118355-3.78225011-37.00289858-7.25218852-58.00370429-7.25218852-45.84684153.0-84.76415912 13.84093033-89.22797347 57.59907945-3.97550376 39.12955153 23.3465945 57.8380583 74.89959531 57.8380583 17.94498229.0 44.41124294-2.60461066 56.64143856-6.35839035l-4.30679575 42.79188083.01898028.01725479z" fill="#c92027" p-id="5269"/><path d="M305.55937083 570.68440578c16.63793189 5.83470746 51.32264935 11.65043465 79.37203705 11.65043465 30.2209031.0 47.04346126-8.05194806 48.39623685-20.53061266 1.22336465-11.39247553-11.15349668-12.92987738-45.28606084-20.71437619-47.16338205-11.12675175-77.25573697-28.3349545-74.3103442-55.82356149C317.17270769 453.32508436 361.6115583 429.17700483 429.80249098 429.17700483c33.26723639.0 65.49487164 2.25433839 82.19750902 7.51877503l-5.74239433 40.26060304c-10.84032224-3.62523151-52.34413295-8.65931669-80.41163819-8.65931669-28.46350268.0-43.19736842 8.60410136-44.21885202 18.04592281-1.28807011 11.94549158 13.50963835 12.49764488 50.49441939 21.95758387 50.06218689 12.2120781 71.95506527 29.41079069 69.09335825 56.07116773C497.85538535 595.77977332 457.87085896 622.43066023 378.02949161 622.43066023c-33.23962873.0-61.89638506-5.83470746-77.68796948-11.66855218l5.21784869-40.07770228z" fill="#231916" p-id="5270"/></svg></a></li><li><a href=https://github.com/c-poet target=_blank title=GitHub rel=me><!doctype html><svg t="1719658035343" class="icon" viewBox="0 0 3786 1024" xmlns="http://www.w3.org/2000/svg" p-id="19106" xmlns:xlink="http://www.w3.org/1999/xlink" width="739.453125" height="200"><path d="M729.176289 438.294072H410.703618c-7.882987.0-14.977675 6.30639-14.977675 14.977675V608.56659c0 7.882987 6.30639 14.977675 14.977675 14.977675h123.762895v193.133179s-27.590454 9.459584-104.843726 9.459584c-90.654349.0-217.570439-33.108545-217.570439-312.166281s132.43418-316.107775 256.197075-316.107775c107.208622.0 153.718245 18.919169 182.885296 28.378752 9.459584 3.153195 18.13087-6.30639 18.13087-14.977675l35.473441-150.56505c0-3.941493-1.576597-8.671286-5.518091-11.82448C687.396459 40.991532 614.872979.0 430.411085.0 217.570439.0.0 90.654349.0 525.006928S249.102386 1024 459.578137 1024c174.214011.0 279.846035-74.100077 279.846035-74.100077 4.729792-2.364896 4.729792-8.671286 4.729793-11.036182V453.271747c0-8.671286-7.094688-14.977675-14.977676-14.977675zM2368.837567 52.027714c0-7.882987-6.30639-14.977675-14.977675-14.977676h-178.943803c-7.882987.0-14.977675 6.30639-14.977675 14.977676v346.063125h-279.057737V52.027714c0-7.882987-6.30639-14.977675-14.977675-14.977676H1686.959199c-7.882987.0-14.977675 6.30639-14.977675 14.977676v937.287144c0 7.882987 6.30639 14.977675 14.977675 14.977675h178.943803c7.882987.0 14.977675-7.094688 14.977675-14.977675V588.070824h279.057737l-.788299 401.244034c0 7.882987 6.30639 14.977675 14.977676 14.977675h179.732101c7.882987.0 14.977675-7.094688 14.977675-14.977675V52.027714z" fill="#100e0f" p-id="19107"/><path d="M1067.356428 175.002309c0-64.640493-52.027714-116.668206-115.879908-116.668206s-115.091609 52.027714-115.091609 116.668206c0 64.640493 52.027714 116.668206 115.091609 116.668207 63.852194.0 115.879908-52.027714 115.879908-116.668207zm-12.612779 616.449577V358.675905c0-7.882987-6.30639-14.977675-14.977675-14.977676H860.822171c-7.882987.0-15.765974 8.671286-15.765974 16.554273v619.602771c0 18.13087 11.036182 23.648961 26.013857 23.648961h160.812933c17.342571.0 22.072363-8.671286 22.072363-23.648961.788299-33.108545.788299-163.177829.788299-188.403387z" fill="#100e0f" p-id="19108"/><path d="M3049.139338 345.274827h-177.367206c-7.882987.0-14.977675 7.094688-14.977675 14.977675V819.830639s-44.933025 33.108545-109.573518 33.108545c-63.852194.0-81.194765-29.167052-81.194765-92.230947V360.252502c0-7.882987-6.30639-14.977675-14.977675-14.977675h-180.5204c-7.882987.0-14.977675 7.094688-14.977676 14.977675v431.199384c0 186.038491 104.055427 231.759815 246.737491 231.759815 117.456505.0 212.052348-64.640493 212.052348-64.640492s4.729792 33.896844 6.306389 37.838337c2.364896 3.941493 7.094688 7.882987 13.401078 7.882987l115.091609-.788299c7.882987.0 14.977675-7.094688 14.977675-14.977675V359.464203c0-7.094688-6.30639-14.189376-14.977675-14.189376zm486.380292-20.495766c-100.902232.0-169.484219 44.933025-169.484218 44.933025V52.027714c0-7.882987-6.30639-14.977675-14.977675-14.977676h-179.732102c-7.882987.0-14.977675 6.30639-14.977675 14.977676v937.287144c0 7.882987 6.30639 14.977675 14.977675 14.977675h124.551193c5.518091.0 10.247883-3.153195 12.612779-7.882987 3.153195-4.729792 7.882987-43.356428 7.882987-43.356428s73.311778 69.370285 212.840647 69.370285c163.177829.0 256.985373-82.771363 256.985373-372.076983-.788299-288.517321-149.776751-325.56736-250.678984-325.567359zm-70.158583 527.371824c-61.487298-1.576597-103.267129-29.95535-103.267129-29.95535V525.795227s40.991532-25.225558 92.230947-29.95535c63.852194-5.518091 125.339492 13.401078 125.339492 166.331024-.788299 160.812933-28.378753 193.133179-114.30331 189.979984zM1569.502694 343.698229h-134.010777V166.331024c0-7.094688-3.153195-10.247883-11.036182-10.247883h-182.885296c-7.094688.0-11.036182 3.153195-11.036182 10.247883v183.673595s-91.442648 22.072363-97.749038 23.648961c-6.30639 1.576597-11.036182 7.882987-11.036181 14.189376v115.091609c0 8.671286 6.30639 14.977675 14.977675 14.977675h93.807544v277.48114c0 205.745958 144.258661 226.241724 242.007698 226.241724 44.933025.0 97.749038-14.189376 106.420324-17.342571 5.518091-1.576597 8.671286-7.094688 8.671285-13.401078V863.975366c0-7.882987-7.094688-14.977675-14.977675-14.977675-7.882987.0-27.590454 3.153195-48.874519 3.153194-66.21709.0-88.289453-30.743649-88.289453-70.158583V518.700539h134.010777c7.882987.0 14.977675-6.30639 14.977676-14.977675V358.675905c-.788299-7.882987-7.094688-14.977675-14.977676-14.977676z" fill="#100e0f" p-id="19109"/></svg></a></li><li><a href=https://www.cnblogs.com/cpoet target=_blank title=博客园 rel=me><!doctype html><svg t="1719667888485" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="3218" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M478.71488 33.88416c-75.76064 36.6592-123.11552 117.31456-114.82624 194.82624 8.28416 67.03616 43.8016 120.45824 104.17152 156.06784C655.09888 494.76096 887.1168 305.17248 784.128 126.05952 722.57536 20.26496 591.17568-19.53792 478.71488 33.88416zm187.03872 67.03616c85.23264 52.37248 80.49664 188.53888-9.472 229.39136-104.17152 48.18432-213.07904-15.71328-213.07904-125.696.0-41.89696 5.91872-54.46656 40.24832-84.84352s48.5376-35.61472 98.2528-35.61472c33.14688.00512 68.6592 7.33696 84.04992 16.76288z" fill="#333" p-id="3219"/><path d="M797.15328 340.7872c-63.9232 115.22048-89.96864 148.736-164.54656 217.87136-75.76064 71.22432-105.35424 90.08128-209.53088 135.12192-67.47648 29.32736-132.5824 50.2784-147.97312 48.18432-22.49216-2.09408-36.69504-25.1392-88.78592-139.31008C120.02816 458.10176 53.73952 333.45536 25.32864 298.89024 8.7552 278.9888 7.57248 280.0384 13.4912 309.36576 40.71424 465.4336 133.05344 774.43072 161.46432 803.75808c15.39072 17.80736 295.94624 18.85184 456.93952 2.09408 190.58688-19.90144 170.46528-27.23328-121.92768-47.13472l-106.54208-7.33184 102.9888-24.0896c114.82624-27.23328 177.56672-52.37248 261.61664-105.79456C786.50368 601.6 817.28 586.93632 824.38144 589.0304c5.91872 2.09408 49.72032 98.46272 94.70464 212.6336 46.16704 115.22048 86.41536 212.6336 91.15136 216.82176 11.83744 11.52-8.28416-233.57952-28.41088-358.22592-10.65472-60.75392-39.0656-187.4944-63.9232-282.81344l-44.98432-172.83072-75.76576 136.17152z" fill="#333" p-id="3220"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>分类</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/page/projects/><!doctype html><svg t="1719657607322" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="13066" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M98.3 540.2l2.3 2.1 345.3 189.1c17.6 14.7 40.5 22.8 64.6 22.8s47-8.1 64.6-22.8l344.8-188.8.5-.3 2.3-2.1c34.8-31.3 39-82 9.8-118-1.7-2.1-4.9-2.5-7-.7l-33.7 27.4c-2.1 1.7-2.5 4.9-.7 7 10.6 13 9.7 30.5-2.1 42.7L544.7 687.1l-.5.3-2.3 2.1c-17 15.3-45.8 15.3-62.8.0l-2.3-2.1-344.7-188.8c-11.8-12.2-12.7-29.7-2.1-42.7 1.7-2.1 1.4-5.3-.7-7l-33.7-27.4c-2.1-1.7-5.3-1.4-7 .7-29.4 35.9-25.1 86.7 9.7 118z" fill="#424242" p-id="13067"/><path d="M925.5 608.3l-33.7 27.4c-2.1 1.7-2.5 4.9-.7 7 10.6 13 9.7 30.5-2.1 42.7L544.7 873.9l-.5.3-2.3 2.1c-17 15.3-45.8 15.3-62.8.0l-2.3-2.1-344.7-188.8c-11.8-12.2-12.7-29.7-2.1-42.7 1.7-2.1 1.4-5.3-.7-7l-33.7-27.4c-2.1-1.7-5.3-1.4-7 .7-29.2 35.9-25 86.7 9.8 118l2.3 2.1L446 918.2c17.6 14.7 40.5 22.8 64.6 22.8s47-8.1 64.6-22.8L920 729.4l.5-.3 2.3-2.1c34.8-31.3 39-82 9.8-118-1.8-2.1-4.9-2.5-7.1-.7zM116.1 372.6l54.5 29.8 290.6 159.1c27.2 24.5 71.4 24.5 98.6.0l290.6-159.1 54.5-29.8c2.6-2.3 4.9-4.8 7-7.4 19.9-24.5 17.7-59.1-7-81.3L559.8 99.3c-27.2-24.5-71.4-24.5-98.6.0L116.1 283.9c-24.6 22.2-26.9 56.7-7 81.3 2.2 2.6 4.4 5.1 7 7.4z" fill="#424242" p-id="13068"/></svg>
<span>项目</span></a></li><li><a href=/page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#应用代码>应用代码</a><ol><li><a href=#1-全局头文件banksystemh>1. 全局头文件(banksystem.h)</a></li><li><a href=#2-入口文件maincpp>2. 入口文件（main.cpp）</a></li><li><a href=#3-功能函数文件functioncpp>3. 功能函数文件（function.cpp）</a></li><li><a href=#4-数据操作文件datalinkcpp>4. 数据操作文件（datalink.cpp）</a></li><li><a href=#5-界面文件interfacecpp>5. 界面文件（interface.cpp）</a></li></ol></li><li><a href=#效果图>效果图</a></li><li><a href=#下载地址>下载地址</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/coding/c/bank-manage-system-by-c/><img src=/post/coding/c/bank-manage-system-by-c/screenshot_hu351a789752f968e59a7ba2b3bdc5bb46_182714_800x0_resize_box_3.png srcset="/post/coding/c/bank-manage-system-by-c/screenshot_hu351a789752f968e59a7ba2b3bdc5bb46_182714_800x0_resize_box_3.png 800w, /post/coding/c/bank-manage-system-by-c/screenshot_hu351a789752f968e59a7ba2b3bdc5bb46_182714_1600x0_resize_box_3.png 1600w" width=800 height=442 loading=lazy alt="Featured image of post 银行管理系统实例(C语言版）"></a></div><div class=article-details><header class=article-category><a href=/categories/coding/c/ style=background-color:#509389;color:#fff>What's C</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/coding/c/bank-manage-system-by-c/>银行管理系统实例(C语言版）</a></h2><h3 class=article-subtitle>C语言实现银行管理系统</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-08-11 23:56</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 12 分钟</time></div></footer></div></header><section class=article-content><blockquote><p>在上小学期的时间里，用C语言简单的写了一个银行的管理系统实例，整体上还是显得有些粗糙。但是对于初学者来说，可以作为一些参考。程序的编写环境是VS2013，为了能让学校运行，所以在DEVC++中进行了测试。由于在编写的时候在循环体中加入了局部变量，所以在VC++中是不能被编译的，如果有需要的同学可以自行修改。</p></blockquote><h2 id=应用代码>应用代码</h2><h3 id=1-全局头文件banksystemh>1. 全局头文件(banksystem.h)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>**banksystem文件头
</span></span></span><span class=line><span class=cl><span class=cm>**ASorb time:201807
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;string.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;time.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>//基本常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define user_max 99		</span><span class=c1>//用户最大数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define take_notes_max 20	</span><span class=c1>//记录数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define data_file &#34;bankdata.orb&#34;		</span><span class=c1>//数据文件默认地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define user_size sizeof(user)
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>//结构体变量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>struct</span> <span class=n>take_notes</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>handle</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>	<span class=c1>//操作
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kt>float</span> <span class=n>money</span><span class=p>;</span>		<span class=c1>//操作的钱数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>struct</span> <span class=n>tm</span> <span class=n>T</span><span class=p>;</span>		<span class=c1>//时间结构体
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>name</span><span class=p>[</span><span class=mi>25</span><span class=p>];</span>		<span class=c1>//用户名
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>card</span><span class=p>;</span>		<span class=c1>//银行卡号
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kt>char</span> <span class=n>pass</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>		<span class=c1>//密码
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kt>float</span> <span class=n>balance</span><span class=p>;</span>		<span class=c1>//余额
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>struct</span> <span class=n>take_notes</span> <span class=n>list</span><span class=p>[</span><span class=n>take_notes_max</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=n>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>//宏
</span></span></span></code></pre></td></tr></table></div></div><h3 id=2-入口文件maincpp>2. 入口文件（main.cpp）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>**功能实现：银行系统实例
</span></span></span><span class=line><span class=cl><span class=cm>**开发环境：VS2013
</span></span></span><span class=line><span class=cl><span class=cm>**ASorb time:201807
</span></span></span><span class=line><span class=cl><span class=cm>**默认管理名：asorb 号：18072801 密码：123456
</span></span></span><span class=line><span class=cl><span class=cm>**测试环境：DEVC++5.10 （修改：1/结构体不能直接赋值，分成员赋值） 
</span></span></span><span class=line><span class=cl><span class=cm>*/</span> 
</span></span><span class=line><span class=cl><span class=c1>//主函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span><span class=cpf>&#34;banksystem.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_true</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>face</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=nf>face_1</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>face_2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>add_user</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=nf>face</span><span class=p>();</span>			<span class=c1>//初始化窗口 
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nf>file_true</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>while</span> <span class=p>((</span><span class=n>h1</span> <span class=o>=</span> <span class=nf>face_1</span><span class=p>())</span> <span class=o>!=</span> <span class=sc>&#39;Q&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;A&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=nf>login</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>face_2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;B&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nf>add_user</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-功能函数文件functioncpp>3. 功能函数文件（function.cpp）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span><span class=lnt>261
</span><span class=lnt>262
</span><span class=lnt>263
</span><span class=lnt>264
</span><span class=lnt>265
</span><span class=lnt>266
</span><span class=lnt>267
</span><span class=lnt>268
</span><span class=lnt>269
</span><span class=lnt>270
</span><span class=lnt>271
</span><span class=lnt>272
</span><span class=lnt>273
</span><span class=lnt>274
</span><span class=lnt>275
</span><span class=lnt>276
</span><span class=lnt>277
</span><span class=lnt>278
</span><span class=lnt>279
</span><span class=lnt>280
</span><span class=lnt>281
</span><span class=lnt>282
</span><span class=lnt>283
</span><span class=lnt>284
</span><span class=lnt>285
</span><span class=lnt>286
</span><span class=lnt>287
</span><span class=lnt>288
</span><span class=lnt>289
</span><span class=lnt>290
</span><span class=lnt>291
</span><span class=lnt>292
</span><span class=lnt>293
</span><span class=lnt>294
</span><span class=lnt>295
</span><span class=lnt>296
</span><span class=lnt>297
</span><span class=lnt>298
</span><span class=lnt>299
</span><span class=lnt>300
</span><span class=lnt>301
</span><span class=lnt>302
</span><span class=lnt>303
</span><span class=lnt>304
</span><span class=lnt>305
</span><span class=lnt>306
</span><span class=lnt>307
</span><span class=lnt>308
</span><span class=lnt>309
</span><span class=lnt>310
</span><span class=lnt>311
</span><span class=lnt>312
</span><span class=lnt>313
</span><span class=lnt>314
</span><span class=lnt>315
</span><span class=lnt>316
</span><span class=lnt>317
</span><span class=lnt>318
</span><span class=lnt>319
</span><span class=lnt>320
</span><span class=lnt>321
</span><span class=lnt>322
</span><span class=lnt>323
</span><span class=lnt>324
</span><span class=lnt>325
</span><span class=lnt>326
</span><span class=lnt>327
</span><span class=lnt>328
</span><span class=lnt>329
</span><span class=lnt>330
</span><span class=lnt>331
</span><span class=lnt>332
</span><span class=lnt>333
</span><span class=lnt>334
</span><span class=lnt>335
</span><span class=lnt>336
</span><span class=lnt>337
</span><span class=lnt>338
</span><span class=lnt>339
</span><span class=lnt>340
</span><span class=lnt>341
</span><span class=lnt>342
</span><span class=lnt>343
</span><span class=lnt>344
</span><span class=lnt>345
</span><span class=lnt>346
</span><span class=lnt>347
</span><span class=lnt>348
</span><span class=lnt>349
</span><span class=lnt>350
</span><span class=lnt>351
</span><span class=lnt>352
</span><span class=lnt>353
</span><span class=lnt>354
</span><span class=lnt>355
</span><span class=lnt>356
</span><span class=lnt>357
</span><span class=lnt>358
</span><span class=lnt>359
</span><span class=lnt>360
</span><span class=lnt>361
</span><span class=lnt>362
</span><span class=lnt>363
</span><span class=lnt>364
</span><span class=lnt>365
</span><span class=lnt>366
</span><span class=lnt>367
</span><span class=lnt>368
</span><span class=lnt>369
</span><span class=lnt>370
</span><span class=lnt>371
</span><span class=lnt>372
</span><span class=lnt>373
</span><span class=lnt>374
</span><span class=lnt>375
</span><span class=lnt>376
</span><span class=lnt>377
</span><span class=lnt>378
</span><span class=lnt>379
</span><span class=lnt>380
</span><span class=lnt>381
</span><span class=lnt>382
</span><span class=lnt>383
</span><span class=lnt>384
</span><span class=lnt>385
</span><span class=lnt>386
</span><span class=lnt>387
</span><span class=lnt>388
</span><span class=lnt>389
</span><span class=lnt>390
</span><span class=lnt>391
</span><span class=lnt>392
</span><span class=lnt>393
</span><span class=lnt>394
</span><span class=lnt>395
</span><span class=lnt>396
</span><span class=lnt>397
</span><span class=lnt>398
</span><span class=lnt>399
</span><span class=lnt>400
</span><span class=lnt>401
</span><span class=lnt>402
</span><span class=lnt>403
</span><span class=lnt>404
</span><span class=lnt>405
</span><span class=lnt>406
</span><span class=lnt>407
</span><span class=lnt>408
</span><span class=lnt>409
</span><span class=lnt>410
</span><span class=lnt>411
</span><span class=lnt>412
</span><span class=lnt>413
</span><span class=lnt>414
</span><span class=lnt>415
</span><span class=lnt>416
</span><span class=lnt>417
</span><span class=lnt>418
</span><span class=lnt>419
</span><span class=lnt>420
</span><span class=lnt>421
</span><span class=lnt>422
</span><span class=lnt>423
</span><span class=lnt>424
</span><span class=lnt>425
</span><span class=lnt>426
</span><span class=lnt>427
</span><span class=lnt>428
</span><span class=lnt>429
</span><span class=lnt>430
</span><span class=lnt>431
</span><span class=lnt>432
</span><span class=lnt>433
</span><span class=lnt>434
</span><span class=lnt>435
</span><span class=lnt>436
</span><span class=lnt>437
</span><span class=lnt>438
</span><span class=lnt>439
</span><span class=lnt>440
</span><span class=lnt>441
</span><span class=lnt>442
</span><span class=lnt>443
</span><span class=lnt>444
</span><span class=lnt>445
</span><span class=lnt>446
</span><span class=lnt>447
</span><span class=lnt>448
</span><span class=lnt>449
</span><span class=lnt>450
</span><span class=lnt>451
</span><span class=lnt>452
</span><span class=lnt>453
</span><span class=lnt>454
</span><span class=lnt>455
</span><span class=lnt>456
</span><span class=lnt>457
</span><span class=lnt>458
</span><span class=lnt>459
</span><span class=lnt>460
</span><span class=lnt>461
</span><span class=lnt>462
</span><span class=lnt>463
</span><span class=lnt>464
</span><span class=lnt>465
</span><span class=lnt>466
</span><span class=lnt>467
</span><span class=lnt>468
</span><span class=lnt>469
</span><span class=lnt>470
</span><span class=lnt>471
</span><span class=lnt>472
</span><span class=lnt>473
</span><span class=lnt>474
</span><span class=lnt>475
</span><span class=lnt>476
</span><span class=lnt>477
</span><span class=lnt>478
</span><span class=lnt>479
</span><span class=lnt>480
</span><span class=lnt>481
</span><span class=lnt>482
</span><span class=lnt>483
</span><span class=lnt>484
</span><span class=lnt>485
</span><span class=lnt>486
</span><span class=lnt>487
</span><span class=lnt>488
</span><span class=lnt>489
</span><span class=lnt>490
</span><span class=lnt>491
</span><span class=lnt>492
</span><span class=lnt>493
</span><span class=lnt>494
</span><span class=lnt>495
</span><span class=lnt>496
</span><span class=lnt>497
</span><span class=lnt>498
</span><span class=lnt>499
</span><span class=lnt>500
</span><span class=lnt>501
</span><span class=lnt>502
</span><span class=lnt>503
</span><span class=lnt>504
</span><span class=lnt>505
</span><span class=lnt>506
</span><span class=lnt>507
</span><span class=lnt>508
</span><span class=lnt>509
</span><span class=lnt>510
</span><span class=lnt>511
</span><span class=lnt>512
</span><span class=lnt>513
</span><span class=lnt>514
</span><span class=lnt>515
</span><span class=lnt>516
</span><span class=lnt>517
</span><span class=lnt>518
</span><span class=lnt>519
</span><span class=lnt>520
</span><span class=lnt>521
</span><span class=lnt>522
</span><span class=lnt>523
</span><span class=lnt>524
</span><span class=lnt>525
</span><span class=lnt>526
</span><span class=lnt>527
</span><span class=lnt>528
</span><span class=lnt>529
</span><span class=lnt>530
</span><span class=lnt>531
</span><span class=lnt>532
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>**功能函数
</span></span></span><span class=line><span class=cl><span class=cm>**ASorb time:201807
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&#34;banksystem.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>//添加新用户
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>add_user</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>p</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>y</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>注册用户</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;--------------</span><span class=se>\n</span><span class=s>你的姓名（20字符内）：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>gets</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;你的密码（6个字符）：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>gets</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>strlen</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=nf>strlen</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>20</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;ERROR224：姓名格式错误！</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>y</span> <span class=o>=</span> <span class=sc>&#39;N&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>strlen</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>pass</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>6</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;ERROR224：密码格式错误！</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>y</span> <span class=o>=</span> <span class=sc>&#39;N&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>y</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=nf>strcmp</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>,</span> <span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;------------------</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：系统检测到存在相同的用户名，继续注册将添加新的卡号！</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>Y.继续</span><span class=se>\t</span><span class=s>回车键放弃</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;键入选择：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>y</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>y</span> <span class=o>==</span> <span class=sc>&#39;Y&#39;</span> <span class=o>||</span> <span class=n>y</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=p>)</span> <span class=o>=</span> <span class=p>((</span><span class=n>list</span> <span class=o>+</span> <span class=p>(</span><span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))</span><span class=o>-&gt;</span><span class=n>card</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>		<span class=c1>//新银行卡号
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=n>p</span><span class=p>.</span><span class=n>balance</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=n>list</span><span class=p>[</span><span class=nf>user_num</span><span class=p>()]</span> <span class=o>=</span> <span class=n>p</span><span class=p>;</span>		<span class=c1>//加入用户
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：注册成功！</span><span class=se>\n\t</span><span class=s>用户名：%s</span><span class=se>\t</span><span class=s>卡号:%d&#34;</span><span class=p>,</span> <span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>,</span> <span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：用户放弃注册！&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>提示：注册失败！回车键返回...</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=c1>//用户登录
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=k>static</span> <span class=n>user</span> <span class=n>p</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;--------------------</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;输入卡号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;输入密码：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>gets</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span> <span class=o>==</span> <span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=k>if</span> <span class=p>(</span><span class=nf>strcmp</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>pass</span><span class=p>,</span> <span class=n>p</span><span class=p>.</span><span class=n>pass</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>					<span class=n>p</span> <span class=o>=</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>				<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>					<span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：密码错误！回车键返回.....</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>					<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>				<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>				<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：卡号不存在！回车键返回......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>();</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span> <span class=o>==</span> <span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=n>p</span> <span class=o>=</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>			<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//余额查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>balance_num</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>handle_save</span><span class=p>(</span><span class=k>struct</span> <span class=n>tm</span><span class=o>*</span><span class=p>,</span><span class=kt>float</span><span class=p>,</span><span class=kt>char</span> <span class=n>arr</span><span class=p>[]);</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span><span class=o>*</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>static</span> <span class=kt>int</span> <span class=n>num_1</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>t</span> <span class=o>=</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;余额查询-银行系统实例</span><span class=se>\n\n\n\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>┌────────────────┬────────────────┬──────────────────┐</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>│姓名：%-10s│卡号：%-10d│余额：%10.2f元│</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>└────────────────┴────────────────┴──────────────────┘</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>handle_save</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span><span class=s>&#34;balance&#34;</span><span class=p>);</span>		<span class=c1>//保存记录
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t</span><span class=s>$$当前时间：%d-%d-%d %d:%d:%d 已记录&#34;</span><span class=p>,</span> <span class=mi>1900</span><span class=o>+</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_year</span><span class=p>,</span> <span class=mi>1</span><span class=o>+</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_mon</span><span class=p>,</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_mday</span><span class=p>,</span><span class=mi>8</span><span class=o>+</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_hour</span><span class=p>,</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_min</span><span class=p>,</span><span class=n>t</span><span class=o>-&gt;</span><span class=n>tm_sec</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>Y.刷新</span><span class=se>\t</span><span class=s>回车键返回.....</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;----------------</span><span class=se>\n</span><span class=s>键入选择：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>getchar</span><span class=p>()</span> <span class=o>==</span> <span class=sc>&#39;Y&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;第 %d 次刷新成功！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>,</span><span class=n>num_1</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>balance_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//取款
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>draw</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>handle_save</span><span class=p>(</span><span class=k>struct</span> <span class=n>tm</span><span class=o>*</span><span class=p>,</span> <span class=kt>float</span><span class=p>,</span> <span class=kt>char</span> <span class=n>arr</span><span class=p>[]);</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span><span class=o>*</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>t</span> <span class=o>=</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_2</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>float</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>--------------</span><span class=se>\n</span><span class=s>金额：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%f&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>money</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：取款失败，原因金额应大于零！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>money</span> <span class=o>&gt;</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：取款失败，原因余额不足！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=n>num_2</span><span class=p>;</span> <span class=n>list</span><span class=p>[</span><span class=n>num_2</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>;</span> <span class=n>num_2</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>)</span> <span class=o>-=</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>list</span><span class=p>[</span><span class=n>num_2</span><span class=p>].</span><span class=n>balance</span> <span class=o>=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=nf>handle_save</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>money</span><span class=p>,</span> <span class=s>&#34;draw&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：取款成功! 金额：%.2f元</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//存款
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>deposit</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>handle_save</span><span class=p>(</span><span class=k>struct</span> <span class=n>tm</span><span class=o>*</span><span class=p>,</span> <span class=kt>float</span><span class=p>,</span> <span class=kt>char</span> <span class=n>arr</span><span class=p>[]);</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span><span class=o>*</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>t</span> <span class=o>=</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_3</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>float</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>--------------</span><span class=se>\n</span><span class=s>金额：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%f&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>money</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：存款失败，原因金额应大于零！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=n>num_3</span><span class=p>;</span> <span class=n>list</span><span class=p>[</span><span class=n>num_3</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>;</span> <span class=n>num_3</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>)</span> <span class=o>+=</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>list</span><span class=p>[</span><span class=n>num_3</span><span class=p>].</span><span class=n>balance</span> <span class=o>=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=nf>handle_save</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>money</span><span class=p>,</span> <span class=s>&#34;deposit&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：存款成功! 金额：%.2f元</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//修改密码
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>editpass</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>handle_save</span><span class=p>(</span><span class=k>struct</span> <span class=n>tm</span><span class=o>*</span><span class=p>,</span> <span class=kt>float</span><span class=p>,</span> <span class=kt>char</span> <span class=n>arr</span><span class=p>[]);</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span><span class=o>*</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>t</span> <span class=o>=</span> <span class=nf>time_now</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>pass</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_6</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>----------------------</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;*认证/输入原密码：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>gets</span><span class=p>(</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>strcmp</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>pass</span><span class=p>,</span> <span class=n>pass</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;输入新密码（6个字符）：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>gets</span><span class=p>(</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=nf>strlen</span><span class=p>(</span><span class=n>pass</span><span class=p>)</span> <span class=o>==</span> <span class=mi>6</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>for</span> <span class=p>(</span><span class=n>num_6</span><span class=p>;</span> <span class=n>list</span><span class=p>[</span><span class=n>num_6</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>;</span> <span class=n>num_6</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>strcpy</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>num_6</span><span class=p>].</span><span class=n>pass</span><span class=p>,</span> <span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>handle_save</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;editpass&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：新密码设置成功，以后请使用新密码登录！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：修改失败，原因新密码不符合规定！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：修改失败，原因认证失败！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//名下账户
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>account</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_8</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;用户：%s 名下账户</span><span class=se>\n\n\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>┌─────┬─────────────────┬─────────────┐</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>│序 号│   姓 名         │卡 号        │</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>,</span> <span class=n>num_8</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>strcmp</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>├─────┼─────────────────┼─────────────┤</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>│%5d│%17s│%13d│</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>└─────┴─────────────────┴─────────────┘</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>$$共%d条数据</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>num_8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>回车键返回......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//注销
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=nf>del_user</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>pass</span><span class=p>[</span><span class=mi>8</span><span class=p>];</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_7</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span> <span class=o>!=</span> <span class=mi>18072801</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>--------------</span><span class=se>\n</span><span class=s>认证/输入密码：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>gets</span><span class=p>(</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=nf>strcmp</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>pass</span><span class=p>,</span> <span class=n>pass</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>for</span> <span class=p>(</span><span class=n>num_7</span><span class=p>;</span> <span class=n>list</span><span class=p>[</span><span class=n>num_7</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>;</span> <span class=n>num_7</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>for</span> <span class=p>(</span><span class=n>num_7</span><span class=p>;</span> <span class=n>num_7</span> <span class=o>&lt;</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>num_7</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>				<span class=n>list</span><span class=p>[</span><span class=n>num_7</span><span class=p>]</span> <span class=o>=</span> <span class=n>list</span><span class=p>[</span><span class=n>num_7</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>			<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>卡号：%d 注销成功，回车键返回......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=k>return</span> <span class=sc>&#39;Q&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：注销失败，原因认证失败！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：默认管理员账户不能注销！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//登出系统
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=nf>out_login</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>------------------</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>Q.返回</span><span class=se>\t</span><span class=s>回车键登出系统.......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nf>getchar</span><span class=p>()</span> <span class=o>==</span> <span class=sc>&#39;Q&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=sc>&#39;Q&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//记录查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>handle_list</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=n>t</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>---------------------</span><span class=se>\n\t</span><span class=s>A.近%d条记录</span><span class=se>\t</span><span class=s>B.按时间段查询</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>take_notes_max</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;键入序号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>h1</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_9</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;A&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;卡号：%d 最近%d条记录</span><span class=se>\n\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>,</span> <span class=n>take_notes_max</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>take_notes_max</span><span class=p>)</span><span class=o>&amp;&amp;</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>handle</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;##日期：%d年%d月%d日 %d:%d:%d</span><span class=se>\n\t</span><span class=s>操作：%s</span><span class=se>\t</span><span class=s>金额：%.2f</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=mi>1900</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_year</span><span class=p>,</span> <span class=mi>1</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mon</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mday</span><span class=p>,</span> <span class=mi>8</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_hour</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_min</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_sec</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>handle</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n\n</span><span class=s>回车键返回........</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;B&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>------------------------</span><span class=se>\n</span><span class=s>输入开始日期（格式：2018-07-29）：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d-%d-%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_year</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mon</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;输入结束日期：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d-%d-%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_year</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mon</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;日期：%d年%d月%d日-%d年%d月%d日 的记录</span><span class=se>\n\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_year</span><span class=p>,</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mon</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_year</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mon</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;(</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>take_notes_max</span><span class=p>)</span><span class=o>&amp;&amp;</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>handle</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_year</span> <span class=o>&gt;=</span> <span class=p>(</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_year</span> <span class=o>-</span> <span class=mi>1900</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mon</span> <span class=o>&gt;=</span> <span class=p>(</span><span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mon</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mday</span> <span class=o>&gt;=</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_year</span> <span class=o>&lt;=</span> <span class=p>(</span><span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_year</span> <span class=o>-</span> <span class=mi>1900</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mon</span> <span class=o>&lt;=</span> <span class=p>(</span><span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mon</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mday</span> <span class=o>&lt;=</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=n>tm_mday</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;##日期：%d年%d月%d日 %d:%d:%d</span><span class=se>\n\t</span><span class=s>操作：%s</span><span class=se>\t</span><span class=s>金额：%.2f</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=mi>1900</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_year</span><span class=p>,</span> <span class=mi>1</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mon</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_mday</span><span class=p>,</span> <span class=mi>8</span> <span class=o>+</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_hour</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_min</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>T</span><span class=p>.</span><span class=n>tm_sec</span><span class=p>,</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>handle</span><span class=p>,</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>num_9</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>$$共%d条记录</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>num_9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>回车键返回.......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：选择错误，重新选择！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//转账
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>cover</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>card</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>float</span> <span class=n>money</span><span class=p>,</span> <span class=n>F</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>----------------</span><span class=se>\n</span><span class=s>收款人卡号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span> <span class=o>==</span> <span class=n>card</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=kt>int</span> <span class=n>ii</span> <span class=o>=</span> <span class=nf>strlen</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;##收款人：%s</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;$$输入转账金额：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%f&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=n>money</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>money</span> <span class=o>&lt;=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>Y.确认转账</span><span class=se>\t</span><span class=s>回车键取消.........</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;键入选择：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=k>if</span> <span class=p>(</span><span class=nf>getchar</span><span class=p>()</span> <span class=o>==</span> <span class=sc>&#39;Y&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>					<span class=k>for</span> <span class=p>(</span><span class=n>ii</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>ii</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>ii</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>);</span> <span class=n>ii</span><span class=o>--</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>balance</span> <span class=o>+=</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>					<span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span> <span class=o>-=</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>					<span class=n>list</span><span class=p>[</span><span class=n>ii</span><span class=p>].</span><span class=n>balance</span> <span class=o>=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>balance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>					<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>					<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：转账成功！ 收款人：%d 金额：%.2f</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>card</span><span class=p>,</span> <span class=n>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>				<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>					<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示:取消转账！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：余额不足，转账失败！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=n>card</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>card</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：转账失败，原因不存在的收款人！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//用户列表，管理员
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>user_list</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>user_u</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span> <span class=o>==</span> <span class=mi>18072801</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;欢迎管理员%s</span><span class=se>\t</span><span class=s>卡号：%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>┌──────┬───────────────┬───────────┬────────────┐</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>│序号  │姓名           │卡号       │余额        │</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span> <span class=o>!=</span> <span class=mi>18072801</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>├──────┼───────────────┼───────────┼────────────┤</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>│%6d│%15s│%11d│%12.2f│</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>name</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>card</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>balance</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t</span><span class=s>└──────┴───────────────┴───────────┴────────────┘</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t</span><span class=s>$$共有%d条数据</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>--------------------</span><span class=se>\n</span><span class=s>对用户操作：</span><span class=se>\n\t</span><span class=s>A.修改密码</span><span class=se>\t</span><span class=s>B.删除用户</span><span class=se>\t</span><span class=s>回车键返回上一级.......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;键入序号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>h1</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;A&#39;</span> <span class=o>||</span> <span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;B&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;操作用户的序号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>scanf</span><span class=p>(</span><span class=s>&#34;%d&#34;</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>user_u</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=n>user_u</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>user_u</span> <span class=o>&lt;=</span> <span class=p>(</span><span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;A&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;输入新密码：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>gets</span><span class=p>(</span><span class=n>list</span><span class=p>[</span><span class=n>user_u</span><span class=p>].</span><span class=n>pass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>					<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;卡号：%d 密码修改成功！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>,</span><span class=n>list</span><span class=p>[</span><span class=n>user_u</span><span class=p>].</span><span class=n>card</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>				<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>					<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Y.确定删除</span><span class=se>\t</span><span class=s>回车键返回.......</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>					<span class=k>if</span> <span class=p>(</span><span class=nf>getchar</span><span class=p>()</span> <span class=o>==</span> <span class=sc>&#39;Y&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>						<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=n>user_u</span><span class=p>;</span> <span class=n>user_u</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>							<span class=n>list</span><span class=p>[</span><span class=n>user_u</span><span class=p>]</span> <span class=o>=</span> <span class=n>list</span><span class=p>[</span><span class=n>user_u</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>						<span class=nf>file_save</span><span class=p>(</span><span class=n>list</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>						<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>						<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：删除成功！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>						<span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>					<span class=p>}</span>
</span></span><span class=line><span class=cl>					<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>						<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>						<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：放弃删除操作！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>						<span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>					<span class=p>}</span>
</span></span><span class=line><span class=cl>				<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：操作失败，原因不存在该序号！</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//时间函数,获取当前时间
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/*tm返回UTC时间，转换北京时间year+1900,mon+1,hour+8*/</span>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=n>tm</span><span class=o>*</span> <span class=nf>time_now</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>time_t</span> <span class=o>*</span><span class=n>timep</span> <span class=o>=</span> <span class=p>(</span><span class=kt>time_t</span><span class=o>*</span><span class=p>)</span><span class=nf>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=kt>time_t</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=nf>time</span><span class=p>(</span><span class=n>timep</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>p</span> <span class=o>=</span> <span class=nf>gmtime</span><span class=p>(</span><span class=n>timep</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>free</span><span class=p>(</span><span class=n>timep</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//操作记录
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>handle_save</span><span class=p>(</span><span class=k>struct</span> <span class=n>tm</span> <span class=o>*</span><span class=n>t</span><span class=p>,</span> <span class=kt>float</span> <span class=n>money</span><span class=p>,</span><span class=kt>char</span> <span class=n>arr</span><span class=p>[</span><span class=mi>10</span><span class=p>]){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=nf>user_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p1</span> <span class=o>=</span> <span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>)</span><span class=nf>calloc</span><span class=p>(</span><span class=n>user_max</span><span class=p>,</span> <span class=n>user_size</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_4</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=n>num_4</span><span class=p>;</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>num_4</span><span class=p>].</span><span class=n>handle</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>;</span> <span class=n>num_4</span><span class=o>++</span><span class=p>);</span>		<span class=c1>//取得已存条数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=n>num_4</span> <span class=o>==</span> <span class=n>take_notes_max</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_4</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nf>strcpy</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>num_4</span><span class=p>].</span><span class=n>handle</span><span class=p>,</span> <span class=n>arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>num_4</span><span class=p>].</span><span class=n>T</span> <span class=o>=</span> <span class=o>*</span><span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>p</span><span class=o>-&gt;</span><span class=n>list</span><span class=p>[</span><span class=n>num_4</span><span class=p>].</span><span class=n>money</span> <span class=o>=</span> <span class=n>money</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_read</span><span class=p>(</span><span class=n>p1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=n>num_4</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=p>(</span><span class=n>p1</span> <span class=o>+</span> <span class=n>num_4</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>card</span> <span class=o>!=</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span><span class=p>;</span> <span class=n>num_4</span><span class=o>++</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=o>*</span><span class=p>(</span><span class=n>p1</span> <span class=o>+</span> <span class=n>num_4</span><span class=p>)</span> <span class=o>=</span> <span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_save</span><span class=p>(</span><span class=n>p1</span><span class=p>,</span> <span class=nf>user_num</span><span class=p>());</span>
</span></span><span class=line><span class=cl>	<span class=nf>free</span><span class=p>(</span><span class=n>p1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//用户数量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>user_num</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>num_5</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=n>list</span><span class=p>[</span><span class=n>user_max</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span> <span class=nb>NULL</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=nf>file_read</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>while</span> <span class=p>((</span><span class=n>list</span><span class=p>[</span><span class=n>num_5</span><span class=p>].</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>num_5</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>num_5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//加密
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>data_j</span><span class=p>(</span><span class=n>user</span> <span class=o>*</span><span class=n>p</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nf>strlen</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>6</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=o>-&gt;</span><span class=n>pass</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//解密
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>data_i</span><span class=p>(</span><span class=n>user</span> <span class=o>*</span><span class=n>p</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nf>strlen</span><span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>6</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=o>-&gt;</span><span class=n>pass</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4-数据操作文件datalinkcpp>4. 数据操作文件（datalink.cpp）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>**文件操作
</span></span></span><span class=line><span class=cl><span class=cm>**ASorb time:201807
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&#34;banksystem.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>//文件检测
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>file_true</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>FILE</span> <span class=o>*</span><span class=n>data</span> <span class=o>=</span> <span class=nf>fopen</span><span class=p>(</span><span class=n>data_file</span><span class=p>,</span> <span class=s>&#34;rb&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>data</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=n>user</span> <span class=n>p</span><span class=o>=</span><span class=p>{</span><span class=nb>NULL</span><span class=p>};</span>
</span></span><span class=line><span class=cl>		<span class=nf>strcpy</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=s>&#34;asorb&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=p>.</span><span class=n>card</span><span class=o>=</span><span class=mi>18072801</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=nf>strcpy</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>pass</span><span class=p>,</span><span class=s>&#34;123456&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>p</span><span class=p>.</span><span class=n>balance</span><span class=o>=</span><span class=mi>100</span><span class=p>;</span>		<span class=c1>//定义一条测试数据
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=nf>file_save</span><span class=p>(</span><span class=o>&amp;</span><span class=n>p</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>		<span class=c1>//保存测试的数据
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span>
</span></span><span class=line><span class=cl>		<span class=nf>fclose</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//写入文件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>file_save</span><span class=p>(</span><span class=n>user</span> <span class=o>*</span><span class=n>p</span><span class=p>,</span> <span class=kt>int</span> <span class=n>count</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>data_j</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>count</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>data_j</span><span class=p>(</span><span class=n>p</span> <span class=o>+</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>FILE</span> <span class=o>*</span><span class=n>data</span> <span class=o>=</span> <span class=nf>fopen</span><span class=p>(</span><span class=n>data_file</span><span class=p>,</span> <span class=s>&#34;wb&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fwrite</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>user_size</span><span class=p>,</span> <span class=n>count</span><span class=p>,</span> <span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fclose</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//读取文件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>file_read</span><span class=p>(</span><span class=n>user</span> <span class=o>*</span><span class=n>p</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>data_i</span><span class=p>(</span><span class=n>user</span><span class=o>*</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>FILE</span> <span class=o>*</span><span class=n>data</span> <span class=o>=</span> <span class=nf>fopen</span><span class=p>(</span><span class=n>data_file</span><span class=p>,</span> <span class=s>&#34;rb&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fread</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>user_size</span><span class=p>,</span> <span class=n>user_max</span><span class=p>,</span> <span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=p>(</span><span class=n>p</span> <span class=o>+</span> <span class=n>i</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>data_i</span><span class=p>(</span><span class=n>p</span> <span class=o>+</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fclose</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=5-界面文件interfacecpp>5. 界面文件（interface.cpp）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>**显示菜单
</span></span></span><span class=line><span class=cl><span class=cm>**ASorb time:201807
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&#34;banksystem.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>//初始化窗口
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>face</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=nf>system</span><span class=p>(</span><span class=s>&#34;title 银行系统实例&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>system</span><span class=p>(</span><span class=s>&#34;color 2F&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//初始界面
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=nf>face_1</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>Author:ASorb</span><span class=se>\t</span><span class=s>Time:201807&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n\n\n\n\n\t\t\t</span><span class=s>A.进入系统</span><span class=se>\t</span><span class=s>B.新用户</span><span class=se>\n\n\t\t\t</span><span class=s>Q.退出系统</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n</span><span class=s>---------------</span><span class=se>\n</span><span class=s>键入序号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>		<span class=c1>//清除输入缓存
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>h1</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;A&#39;</span> <span class=o>||</span> <span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;B&#39;</span> <span class=o>||</span> <span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;Q&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：选择有误，重新选择！&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//登录后界面
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>face_2</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span><span class=o>*</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>user</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=nf>login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>balance_num</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>draw</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>deposit</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>editpass</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>account</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=nf>del_user</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=nf>out_login</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>handle_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>cover</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=kt>char</span> <span class=n>h1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>while</span> <span class=p>(</span><span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;欢迎用户：%s</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>p</span><span class=o>-&gt;</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\n\n\n\t\t\t</span><span class=s>A.余额查询</span><span class=se>\t</span><span class=s>B.取款</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t\t\t</span><span class=s>C.修改密码</span><span class=se>\t</span><span class=s>D.存款</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t\t\t</span><span class=s>E.名下账户</span><span class=se>\t</span><span class=s>F.注销</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t\t\t</span><span class=s>G.登出系统</span><span class=se>\t</span><span class=s>H.记录</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t\t\t</span><span class=s>Q.返回上一级</span><span class=se>\t</span><span class=s>I.转账</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>p</span><span class=o>-&gt;</span><span class=n>card</span> <span class=o>==</span> <span class=mi>18072801</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n\t\t\t\t</span><span class=s>U.用户列表*</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>----------------</span><span class=se>\n</span><span class=s>键入序号：&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=nf>fflush</span><span class=p>(</span><span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>((</span><span class=n>h1</span> <span class=o>=</span> <span class=nf>getchar</span><span class=p>())</span> <span class=o>&gt;=</span> <span class=sc>&#39;A&#39;</span><span class=o>&amp;&amp;</span><span class=n>h1</span> <span class=o>&lt;=</span> <span class=sc>&#39;I&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=k>switch</span> <span class=p>(</span><span class=n>h1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;A&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span> <span class=nf>balance_num</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;B&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>draw</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;C&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>editpass</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;D&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>deposit</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;E&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>account</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;F&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=n>h1</span> <span class=o>=</span> <span class=nf>del_user</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;G&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=n>h1</span> <span class=o>=</span> <span class=nf>out_login</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;H&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>handle_list</span><span class=p>();</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>case</span> <span class=sc>&#39;I&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>				<span class=nf>cover</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;Q&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;Q&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>h1</span> <span class=o>==</span> <span class=sc>&#39;U&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span> <span class=nf>user_list</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nf>system</span><span class=p>(</span><span class=s>&#34;cls&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=nf>printf</span><span class=p>(</span><span class=s>&#34;提示：选择有误，重新选择！</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=效果图>效果图</h2><p><img src=/post/coding/c/bank-manage-system-by-c/screenshot.png width=1725 height=953 srcset="/post/coding/c/bank-manage-system-by-c/screenshot_hu351a789752f968e59a7ba2b3bdc5bb46_182714_480x0_resize_box_3.png 480w, /post/coding/c/bank-manage-system-by-c/screenshot_hu351a789752f968e59a7ba2b3bdc5bb46_182714_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=181 data-flex-basis=434px></p><h2 id=下载地址>下载地址</h2><p>DEVC++下测试工程文件（源代码）：<a class=link href=https://download.csdn.net/download/qq_42304721/10592413 target=_blank rel=noopener>https://download.csdn.net/download/qq_42304721/10592413</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/coding/c/data-structure-word-count/><div class=article-details><h2 class=article-title>数据结构串实现单词统计</h2></div></a></article><article><a href=/post/coding/c/data-structure-encrypt/><div class=article-details><h2 class=article-title>数据结构串实现字符串加密</h2></div></a></article><article><a href=/post/coding/c/data-structure-basic-algorithms/><div class=article-details><h2 class=article-title>数据结构基本算法录入</h2></div></a></article><article><a href=/post/coding/c/c-read-file-content/><div class=article-details><h2 class=article-title>C语言读取文件大小，载入文件全部内容</h2></div></a></article><article class=has-image><a href=/post/coding/c/c-address-book/><div class=article-image><img src=/post/coding/c/c-address-book/20180809120111917.743fcc21a121e661f9cff62e6c151b5e_hud2713289ccbef0d7caa992f6133e1b8e_34033_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post C语言通讯录实例" data-hash="md5-dD/MIaEh5mH5z/YubBUbXg=="></div><div class=article-details><h2 class=article-title>C语言通讯录实例</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2025 BY CPoet</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=/libs/photo-swipe/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=/libs/photo-swipe/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=/libs/photo-swipe/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=/libs/photo-swipe/photoswipe.min.css crossorigin=anonymous></main></div><script src=/libs/vibrant/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>